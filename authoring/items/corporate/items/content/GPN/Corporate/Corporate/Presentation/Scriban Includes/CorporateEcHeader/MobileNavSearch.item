----item----
version: 1
id: {22159F19-76C3-43F2-A787-1A474DB143D5}
database: master
path: /sitecore/content/GPN/Corporate/Corporate/Presentation/Scriban Includes/CorporateEcHeader/MobileNavSearch
parent: {4D91E463-6B61-4985-BB5F-D5D661A20D5D}
name: MobileNavSearch
master: {00000000-0000-0000-0000-000000000000}
template: {CB401771-43AB-4F1E-B711-8C5EA7C37BE1}
templatekey: Scriban Include

----field----
field: {241300DA-5F88-498D-B4DD-BBBE04178DE6}
name: Key
key: key
content-length: 37

ec-corporate-header-mobile-nav-search
----field----
field: {E3CDCF5B-6FD6-48B1-A02F-797D3BCD50D8}
name: Template
key: template
content-length: 2995

{{ include "ec-corporate-format-id-function" }}

{{ 
    $searchParamsItem = $1.searchParamsItem
    $popularSearches = $1.popularSearches
    $quickLinks = $1.quickLinks

    if $searchParamsItem    

        $popularSearchesExists = false
        if $popularSearches
            if has_children_in_language $popularSearches
                $popularSearchesExists = true
            end
        end
        $quickLinksExists = false
        if $quickLinks
            if has_children_in_language $quickLinks
                $quickLinksExists = true
            end
        end

        $title = sc_translate "Search"

        # just set a default guid, there is only ever going to be one of this on the page
        $id = "cf5eeb2387384764b1432e994316f0b1" 
}}
        <li class="rel-level1" role="menuitem">
            <div class="navigation-title has-children chevron-primary-1-next-sm">
                <a class="nav-link" id="{{ $id }}" title="{{ $title }}" data-ea-zone="Header" data-ea-type="parent tab click" data-ea-link="{{ $title }}">
                    <span class="mobile-top-navigation-title" data-content="{{ $title }}">{{ $title }}</span>
                </a>
            </div>
            {{#Level 2 - Start}}
            <div role="group" aria-label="{{$title}}" aria-labelledby="{{ $id }}">

                <div class="head">
                    <div class="chevron-primary-1-prev-sm back-arrow"></div>
                    <h5 class="subnav-title"><span class="primary-underline">{{ $title }}</span></h5>
                </div>

                <div class="mobile-search-container">
                    {{
                            sc_execute $searchParamsItem "SearchBox"
                    }}
                </div>

                {{ if $popularSearchesExists || $quickLinksExists }}
                    <div class="mobile-searchlinks-container">
                    {{ 
                        if $popularSearchesExists 
                            $linkListModel = {
                                links: get_children_in_language $popularSearches,
                                title: "Popular searches",
                                containerCssClass: "mobile-searchlinks"
                            }
                            include "ec-corporate-search-link-list" $linkListModel
                        end
                        if $quickLinksExists
                            $linkListModel = {
                                links: get_children_in_language $quickLinks,
                                title: "Quick links",
                                containerCssClass: "mobile-searchlinks"
                            }
                            include "ec-corporate-search-link-list" $linkListModel
                        end
                    }}
                    </div>
                {{ end }}
            </div>
        </li>
    {{ end }}
{{ end }}

----version----
language: en-US
version: 1
revision: 8b1ad4c2-64ac-402d-823b-096265c8bbf9

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20231206T034114Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

8b1ad4c2-64ac-402d-823b-096265c8bbf9
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20241128T224623Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\Admin
