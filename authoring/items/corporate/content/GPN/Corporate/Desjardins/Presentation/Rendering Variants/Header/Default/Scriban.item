----item----
version: 1
id: {CD9A30D8-DD7A-4602-A1B6-78D7D8F12ABE}
database: master
path: /sitecore/content/GPN/Corporate/Desjardins/Presentation/Rendering Variants/Header/Default/Scriban
parent: {BF720BE4-CE82-460C-AD9F-E37B79A6D98A}
name: Scriban
master: {00000000-0000-0000-0000-000000000000}
template: {8FCD3CFE-8B3B-423E-8176-6A7C72CB43FC}
templatekey: Scriban

----field----
field: {936E68B4-5346-4ADB-9B77-79771D0B40DC}
name: Template
key: template
content-length: 8628

{{

    $logoPlacement = "bottom" # default to bottom
    if i_item
        if i_item.LogoPlacement
            $logoPlacementValue = sc_follow i_item "LogoPlacement"
            if $logoPlacementValue 
                if $logoPlacementValue != ""
                    $logoPlacement = $logoPlacementValue.Value.raw
                end
            end
        end
    end
    #$logoPlacement = (sc_follow i_item "LogoPlacement").Value.raw

    $primaryNav = sc_follow i_item "MainMenu"
    $mobileNav = sc_follow i_item "MobileMenu"

    $popularSearches = sc_follow i_item "PopularSearches"
    $quickLinks = sc_follow i_item "QuickLinks"

    if i_item.SearchBoxDatasource
        if i_item.SearchBoxDatasource != ""
            $searchParamsItem = sc_follow i_item "SearchBoxDatasource"
        end
    end

    if i_item.SecondaryMenu
        if i_item.SecondaryMenu != ""
            $secondaryMenu = sc_follow i_item "SecondaryMenu"
        end
    end

    $homeUrl = i_home.url

    $ctaLink = sc_follow i_item "CTA"

}}


<div class="header web40">

    {{ # ========================= }}
    {{ #           Logos           }}
    {{ # ========================= }}
    <div class="logo-container {{ $logoPlacement }}">

        {{ 
            $logoModel = {
                image: i_item.NormalLogo,
                homeUrl: $homeUrl,
                className: "primary-logo",
                tabIndex: "0"
            }
            include "header-desktop-logo" $logoModel
        }}

        {{ 
            if i_item.StickyLogo
                $stickyLogo = i_item.StickyLogo
            else
                $stickyLogo = i_item.NormalLogo
            end

            $logoModel = {
                image: $stickyLogo,
                homeUrl: $homeUrl,
                className: "sticky-logo",
                tabIndex: "-1"
            }
            include "header-desktop-logo" $logoModel

            # get mobile sticky logo, fallback to sticky logo
            if i_item.MobileStickyLogo
                if i_item.MobileStickyLogo != "" 
                    $mobileStickyLogo = i_item.MobileStickyLogo
                else
                    $mobileStickyLogo = $stickyLogo
                end
            else
                $mobileStickyLogo = $stickyLogo
            end

            $mobileStickyLogoModel = {
                image: $mobileStickyLogo,
                homeUrl: $homeUrl,
                className: "mobile-sticky-logo",
                tabIndex: "-1"
            }
            include "header-desktop-logo" $mobileStickyLogoModel

        }}
    </div>

    {{ # ========================= }}
    {{ #       Primary Menu        }}
    {{ # ========================= }}
    <div class="mainmenu-container">
        {{
            $primaryNavModel = {
                primaryNav: $primaryNav
            }
            include "header-primary-nav" $primaryNavModel
        }}
    </div>

    {{ # ========================= }}
    {{ #     Secondary Area        }}
    {{ # ========================= }}
    <div class="secondarymenu-container">

        {{ if $searchParamsItem || $secondaryMenu }}
            <nav class="navbar navbar-expand navbar-light secondary-menu">
                <ul class="navbar-nav" role="menubar">

                    {{
                        if $searchParamsItem 


                            $secondaryMenuSearchObject = { 
                                search: $searchParamsItem,
                                popularSearches: $popularSearches,
                                quickLinks: $quickLinks
                            }
                            include "header-secondary-menu-search" $secondaryMenuSearchObject
                        end 

                        if $secondaryMenu 
                            $secondaryMenuObject = { secondaryMenu: $secondaryMenu }
                            include "header-secondary-menu-items" $secondaryMenuObject
                        end
                    }}
                </ul>
            </nav>
        {{ end }}


        {{  if i_item.CTA }}
            {{ if i_item.CTA != "" }}
                <div class="cta-box">
                {{ 
                    $ctaModel = {
                        page: i_page,
                        item: i_item,
                        linkField: "CTA"
                    }

                    include "header-cta" $ctaModel
                }}
                </div>
            {{ end }}
        {{ end }}
    </div>

    {{ # ========================= }}
    {{ #    Utility Navigation     }}
    {{ # ========================= }}
    <div class="utilitymenu-container">
       
        {{
            if i_item.UtilityMenu
                if i_item.UtilityMenu.raw != ""
                    $utilityNavModel = {
                        links: i_item.UtilityMenu
                    }

                    include "header-utility-nav" $utilityNavModel
                end
            end

            #if i_item.ShowLanguageSwitcher == "1"
            #    sc_execute i_item "LanguageSwitcher"
            #end
        }}
    </div>

    {{ # ========================= }}
    {{ #     Mobile Navigation     }}
    {{ # ========================= }}
    <div class="mobilemenu-container">
        <div class="mobile-icons">
            <div class="icon-burger" aria-expanded="false"></div>
        </div>
        <div class="navigation header40-nav-mobile web40">
            <nav>
                <div class="head">
                    {{ 

                        # get mobile logo, fallback to normal logo
                        if i_item.MobileLogo
                            if i_item.MobileLogo != ""
                                $mobileLogo = i_item.MobileLogo
                            else
                                $mobileLogo = i_item.NormalLogo
                            end
                        else
                            $mobileLogo = i_item.NormalLogo
                        end


                        $mobileLogoModel = {
                            image: $mobileLogo,
                            homeUrl: $homeUrl,
                            className: "mobile-logo"
                        }
                        include "header-desktop-logo" $mobileLogoModel

                    }}
                    <div class="close-nav"></div>
                </div>


                <ul role="menubar">
                    {{
                        $mobileNavModel = {
                            mobileNav: $mobileNav
                        }
                        include "header-mobile-nav" $mobileNavModel
                    }}

                    <li class="divider" role="presentation"><hr class="mobile-menu-divider" /></li>

                    {{ 
                        if $searchParamsItem
                            $mobileNavSearchModel = {
                                searchParamsItem: $searchParamsItem,
                                popularSearches: $popularSearches,
                                quickLinks: $quickLinks
                            }
                        
                            include "header-mobile-nav-search" $mobileNavSearchModel
                         end 
                    
                        if i_item.UtilityMenu
                            if i_item.UtilityMenu.raw != ""
                                $mobileUtilityNavModel = {
                                    links: i_item.UtilityMenu
                                }
            
                                include "header-mobile-utility-nav" $mobileUtilityNavModel
                            end
                        end
                    }}
                </ul>

                {{  if i_item.CTA }}
                    {{ if i_item.CTA != "" }}
                        <div class="mobile-cta-box">
                        {{ 
                            $ctaModel = {
                                page: i_page,
                                item: i_item,
                                linkField: "CTA"
                            }
        
                            include "header-cta" $ctaModel
                        }}
                        </div>
                    {{ end }}
                {{ end }}
    
            </nav>
        </div>
    </div>
</div>

----version----
language: en-CA
version: 1
revision: 016ace4c-44f4-4d31-98d3-afa8fbad06bb

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\Admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20231110T021634Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

016ace4c-44f4-4d31-98d3-afa8fbad06bb
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20250708T184247Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\Admin
----version----
language: en-US
version: 1
revision: 96867606-f944-4d9f-a327-938233bfbf3d

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20231110T021634Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

96867606-f944-4d9f-a327-938233bfbf3d
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20240318T033447Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\admin
----version----
language: fr-CA
version: 1
revision: 54541bbe-56d3-40ea-826b-69a0e4c86f08

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\Admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20231110T021634Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

54541bbe-56d3-40ea-826b-69a0e4c86f08
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20250708T184247Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\Admin
