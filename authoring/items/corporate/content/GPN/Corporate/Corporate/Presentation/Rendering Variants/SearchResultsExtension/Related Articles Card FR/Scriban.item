----item----
version: 1
id: {DC93DBE1-1C3E-463E-A81E-66DA04CD95C3}
database: master
path: /sitecore/content/GPN/Corporate/Corporate/Presentation/Rendering Variants/SearchResultsExtension/Related Articles Card FR/Scriban
parent: {E2B8E6E3-13C6-47C0-9F0B-0A619AD3721F}
name: Scriban
master: {00000000-0000-0000-0000-000000000000}
template: {8FCD3CFE-8B3B-423E-8176-6A7C72CB43FC}
templatekey: Scriban

----field----
field: {936E68B4-5346-4ADB-9B77-79771D0B40DC}
name: Template
key: template
content-length: 3772

{{- 

    # Content type, tags and business size
    $articleUrl = i_item.url
    $contentType = sc_translate i_item.template_name
    $contentTypeUrl = get_pif_content_type_listing_url i_item

    $externalLink = get_general_link_info i_item "ExternalLink"
    if $externalLink != null && $externalLink.url != ""
        $articleUrl = $externalLink.url
    end

    $allArticleTopics = sc_followmany i_item "GPIBlogCategories"
    $articleTopics = $allArticleTopics | array.limit 2
    $topics = []
    for $articleTopic in $articleTopics
        $tag = sc_raw $articleTopic "Title"
        $tagUrl = $articleTopic.url
        $topics = $topics | array.add { title: $tag, url: $tagUrl}
    end

    # build topics and audiences (business size) list for output
    $allTopics = [];
    for $t in $allArticleTopics 
        $tag = sc_raw $t "Title"
        $tagUrl = $t.url
        $topic = "{ \"name\": \"" + $tag + "\", \"url\": \"" + $tagUrl + "\"}"
        $allTopics = $allTopics | array.add $topic
    end
    $allTopicsDataString = "[" + ($allTopics | array.join ",") + "]"

    $audiences = [];
    for $b in (sc_followmany i_item "BusinessSize")
        $tag = sc_raw $b "Title"
        $tagUrl = $b.url
        $audience = "{ \"name\": \"" + $tag + "\", \"url\": \"" + $tagUrl + "\"}"
        $audiences = $audiences | array.add $audience
    end
    $audiencesDataString = "[" + ($audiences | array.join ",") + "]"

    $allTagsDataString = "{ \"topics\": " + $allTopicsDataString  + ", \"audiences\": " + $audiencesDataString + " }"



    $businessSize = ""
    $businessSizeUrl = ""
    $firstBusinessSize = sc_follow i_item "BusinessSize"
    if $firstBusinessSize
        $businessSize = sc_raw $firstBusinessSize "Title"
        $businessSizeUrl = $firstBusinessSize.url
    end
    $showPifTags = false
    if $businessSize != "" || $tag != "" 
        $showPifTags = true
    end

    # images
    $featuredImageUrl = sc_fullmediaurl i_item 'BlogFeaturedImage' { Width: 440 }
    $overrideCardImage = sc_fullmediaurl i_item 'CardImageOverride' { Width: 440 }
    if ($overrideCardImage | string.size) > 0
        $featuredImageUrl = $overrideCardImage
    end
    $hasFeaturedImage = ($featuredImageUrl | string.size) > 0

    # Title, publish date, minutes to read
    $title = sc_raw i_item "Blog Title"
    
-}}

<div class="pif-small-image-card-search-result pif-clickable-card">
    <div class="image-container">
        {{ if $hasFeaturedImage }}
            <img class="pif-article-image" width="440" src="{{ $featuredImageUrl }}" />
        {{ else }}
            <h3 class="pif-title h5-style">{{ $title }}</h3>
        {{ end }}
    </div>
    <div class="pif-article-details">
        <a href="{{ $contentTypeUrl }}" class="pif-content-type btn btn-xs btn-outline-primary-1">{{ $contentType }}</a>
        {{ if $showPifTags }}
            <div class="pif-tags" data-all-tags='{{ $allTagsDataString }}'>
                <ul>
                {{ if $topics | array.size > 0 }}
                    {{ for $topic in $topics }}
                        <li><a href="{{ $topic.url }}">{{ $topic.title }}</a></li>
                    {{ end }}
                {{ end }}
                {{ if $businessSize }}
                    {{ if $businessSize != "" }}
                        <li><a href="{{ $businessSizeUrl }}">{{ $businessSize }}</a></li>
                    {{ end }}
                {{ end }}
                </ul>
            </div>
        {{ end }}
    </div>
    {{ if $hasFeaturedImage }}
        <h3 class="pif-title h5-style">{{ $title }}</h3>
    {{ end }}
    <a class="pif-card-link-overlay" href="{{ $articleUrl }}"></a>
</div>

----field----
field: {BA3F86A2-4A1C-4D78-B63D-91C2779C1B5E}
name: __Sortorder
key: __sortorder
content-length: 1

0
----version----
language: en-150
version: 1
revision: 268c5215-6429-4dde-a0b3-d0856fceeada

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 21

sitecore\Neeraj_Yadav
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

268c5215-6429-4dde-a0b3-d0856fceeada
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20230210T062434Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 21

sitecore\Neeraj_Yadav
----version----
language: en-AU
version: 1
revision: 2bdbb542-a55e-445a-bbfc-707050d1368e

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20230315T131113Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 21

sitecore\Neeraj_Yadav
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20230315T131113Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

2bdbb542-a55e-445a-bbfc-707050d1368e
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20230817T101037Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 21

sitecore\Neeraj_Yadav
----version----
language: en-BM
version: 1
revision: 4cc600b4-4f0f-47bb-b6eb-d7e9ab3b777e

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20230315T131113Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 21

sitecore\Neeraj_Yadav
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20230315T131113Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

4cc600b4-4f0f-47bb-b6eb-d7e9ab3b777e
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20230516T153412Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 21

sitecore\Neeraj_Yadav
----version----
language: en-CA
version: 1
revision: 53461754-0561-4ad2-a2d1-cb6cf162882e

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 19

sitecore\tf-suneeth
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

53461754-0561-4ad2-a2d1-cb6cf162882e
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20211201T121754Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 25

sitecore\Kevin_Mellenberg
----version----
language: en-GB
version: 1
revision: 67565bea-b1d4-44fd-8c00-b654e4c4eb14

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 19

sitecore\tf-suneeth
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

67565bea-b1d4-44fd-8c00-b654e4c4eb14
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20211026T072234Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 19

sitecore\tf-suneeth
----version----
language: en-HK
version: 1
revision: d0c2e1e8-62b3-4b0a-86ff-38d804cbecab

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 19

sitecore\tf-suneeth
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

d0c2e1e8-62b3-4b0a-86ff-38d804cbecab
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20211026T073205Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 19

sitecore\tf-suneeth
----version----
language: en-MT
version: 1
revision: 324f8980-e6ba-400a-96e0-2c8d700d5322

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20230315T131113Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 21

sitecore\Neeraj_Yadav
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20230315T131113Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

324f8980-e6ba-400a-96e0-2c8d700d5322
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20230516T153412Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 21

sitecore\Neeraj_Yadav
----version----
language: en-US
version: 1
revision: a6f2ba34-76cf-49ae-a1f8-5472833abaf8

----field----
field: {B8F42732-9CB8-478D-AE95-07E25345FB0F}
name: __Hide version
key: __hide version
content-length: 0


----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210527T103240Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

a6f2ba34-76cf-49ae-a1f8-5472833abaf8
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20210604T092045Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 19

sitecore\tf-suneeth
----version----
language: en-US
version: 2
revision: 5336252d-f361-4df0-b1e0-6cdad50e8356

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {B8F42732-9CB8-478D-AE95-07E25345FB0F}
name: __Hide version
key: __hide version
content-length: 0


----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

5336252d-f361-4df0-b1e0-6cdad50e8356
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20220422T122302Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 25

sitecore\Kevin_Mellenberg
----version----
language: en-US
version: 3
revision: 711ed9bb-b5ed-479c-9905-6bd2f76334e2

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20230315T131113Z
----field----
field: {B8F42732-9CB8-478D-AE95-07E25345FB0F}
name: __Hide version
key: __hide version
content-length: 0


----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20230315T131113Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

711ed9bb-b5ed-479c-9905-6bd2f76334e2
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20230623T064523Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\admin
----version----
language: es-ES
version: 1
revision: 255d0ead-03aa-443b-872a-3d2f1b2de96d

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 25

sitecore\Kevin_Mellenberg
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

255d0ead-03aa-443b-872a-3d2f1b2de96d
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20220208T155804Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 25

sitecore\Kevin_Mellenberg
----version----
language: fr-CA
version: 1
revision: f970de16-e9d8-4998-a79e-2b30a90d248f

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 19

sitecore\tf-suneeth
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

f970de16-e9d8-4998-a79e-2b30a90d248f
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20220418T193956Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 25

sitecore\Kevin_Mellenberg
----version----
language: hu-HU
version: 1
revision: 9275bd26-cf84-4f98-bade-d13c45009601

----field----
field: {C8F93AFE-BFD4-4E8F-9C61-152559854661}
name: __Valid from
key: __valid from
content-length: 16

20210708T063259Z
----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 21

sitecore\Neeraj_Yadav
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20210708T063259Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 19

sitecore\tf-suneeth
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

9275bd26-cf84-4f98-bade-d13c45009601
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20220712T050206Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 21

sitecore\Neeraj_Yadav
